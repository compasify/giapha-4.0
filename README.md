<p align="center">
  <img src="https://img.shields.io/badge/Next.js-16-black?style=for-the-badge&logo=next.js" alt="Next.js">
  <img src="https://img.shields.io/badge/React-19-61DAFB?style=for-the-badge&logo=react" alt="React">
  <img src="https://img.shields.io/badge/TypeScript-5-3178C6?style=for-the-badge&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/Tailwind_CSS-4-38B2AC?style=for-the-badge&logo=tailwind-css" alt="Tailwind CSS">
</p>

<h1 align="center">ğŸŒ³ Gia Pháº£ 365</h1>

<p align="center">
  <strong>á»¨ng dá»¥ng web quáº£n lÃ½ gia pháº£ trá»±c tuyáº¿n dÃ nh cho cÃ¡c gia Ä‘Ã¬nh Viá»‡t Nam</strong><br>
  XÃ¢y dá»±ng, khÃ¡m phÃ¡ vÃ  chia sáº» cÃ¢y gia pháº£ vá»›i giao diá»‡n hiá»‡n Ä‘áº¡i, há»— trá»£ Ä‘áº§y Ä‘á»§ vÄƒn hÃ³a vÃ  lá»‹ch Ã‚m Viá»‡t Nam
</p>

<p align="center">
  ğŸŒ Sá»­ dá»¥ng Online táº¡i <a href="https://giapha.licham365.com">https://giapha.licham365.com</a> â€” má»™t sáº£n pháº©m cá»§a <strong>Lá»‹ch Ã‚m 365</strong>
</p>

<p align="center">
  <a href="#tÃ­nh-nÄƒng">TÃ­nh nÄƒng</a> â€¢
  <a href="#cÃ i-Ä‘áº·t">CÃ i Ä‘áº·t</a> â€¢
  <a href="#hÆ°á»›ng-dáº«n-sá»­-dá»¥ng">HÆ°á»›ng dáº«n</a> â€¢
  <a href="#tÃ­nh-nÄƒng-áº©n--hÆ°á»›ng-dáº«n-chi-tiáº¿t">TÃ­nh nÄƒng áº©n</a> â€¢
  <a href="#tech-stack">Tech Stack</a>
</p>

---

## âœ¨ TÃ­nh nÄƒng

### ğŸŒ² CÃ¢y gia pháº£ tÆ°Æ¡ng tÃ¡c

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ” Zoom & Pan | Thu phÃ³ng, kÃ©o tháº£ toÃ n bá»™ cÃ¢y báº±ng chuá»™t hoáº·c trackpad |
| ğŸ—ºï¸ Minimap | Báº£n Ä‘á»“ thu nhá» á»Ÿ gÃ³c mÃ n hÃ¬nh giÃºp Ä‘iá»u hÆ°á»›ng nhanh |
| ğŸ¯ Táº­p trung thÃ nh viÃªn | Click vÃ o tÃªn á»Ÿ báº¥t ká»³ Ä‘Ã¢u Ä‘á»ƒ cÃ¢y tá»± Ä‘á»™ng di chuyá»ƒn vÃ  focus vÃ o thÃ nh viÃªn Ä‘Ã³ |
| âœ¨ Highlight Ä‘Æ°á»ng mÃ¡u má»§ | Click vÃ o thÃ nh viÃªn Ä‘á»ƒ highlight toÃ n bá»™ chuá»—i tá»• tiÃªn â€” háº­u duá»‡ |
| ğŸ”¢ Xem theo tháº¿ há»‡ | Thanh lá»c theo tháº¿ há»‡ (Generation Filter) Ä‘á»ƒ áº©n/hiá»‡n tá»«ng táº§ng |
| ğŸ“ Cháº¿ Ä‘á»™ xem rÃºt gá»n | Toggle "Compact Mode" Ä‘á»ƒ hiá»ƒn thá»‹ tÃªn ngáº¯n gá»n, tiáº¿t kiá»‡m khÃ´ng gian |
| ğŸ–±ï¸ Drag & Drop Ä‘á»•i cha/máº¹ | KÃ©o tháº» thÃ nh viÃªn sang tháº» khÃ¡c Ä‘á»ƒ tÃ¡i cáº¥u trÃºc cÃ¢y |
| ğŸ’¬ Popup tiá»ƒu sá»­ | Hover vÃ o tháº» thÃ nh viÃªn Ä‘á»ƒ xem nhanh thÃ´ng tin (áº£nh, ngÃ y sinh, tiá»ƒu sá»­) |

### ğŸ‘¤ Quáº£n lÃ½ thÃ nh viÃªn

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| â• ThÃªm thÃ nh viÃªn | ThÃªm trá»±c tiáº¿p tá»« cÃ¢y hoáº·c qua form Ä‘áº§y Ä‘á»§ |
| âœï¸ Chá»‰nh sá»­a thÃ´ng tin | TÃªn, áº£nh Ä‘áº¡i diá»‡n, ngÃ y sinh/máº¥t (dÆ°Æ¡ng & Ã¢m lá»‹ch), giá»›i tÃ­nh, tiá»ƒu sá»­ |
| ğŸ—‘ï¸ XÃ³a thÃ nh viÃªn | XÃ³a kÃ¨m cáº£nh bÃ¡o áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¢y |
| ğŸ–¼ï¸ áº¢nh Ä‘áº¡i diá»‡n | Upload áº£nh hoáº·c dÃ¹ng avatar máº·c Ä‘á»‹nh theo giá»›i tÃ­nh |
| ğŸ‡»ğŸ‡³ TÃªn Viá»‡t Nam Ä‘áº§y Ä‘á»§ | Há», tÃªn Ä‘á»‡m, tÃªn â€” hiá»ƒn thá»‹ Ä‘Ãºng thá»© tá»± vÄƒn hÃ³a Viá»‡t |
| ğŸ”¢ Thá»© tá»± anh chá»‹ em | Sáº¯p xáº¿p thá»© tá»± hiá»ƒn thá»‹ trong gia Ä‘Ã¬nh (con trÆ°á»Ÿng, thá»©...) |

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Quan há»‡ gia Ä‘Ã¬nh

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ‘¨â€ğŸ‘§ Quan há»‡ cha/máº¹ - con | Thiáº¿t láº­p quan há»‡ cha máº¹ sinh há»c hoáº·c nuÃ´i dÆ°á»¡ng |
| ğŸ’ Quan há»‡ vá»£/chá»“ng | Há»— trá»£ nhiá»u cuá»™c hÃ´n nhÃ¢n (cÃ³ ngÃ y káº¿t hÃ´n, ly hÃ´n) |
| ğŸ’” Tráº¡ng thÃ¡i hÃ´n nhÃ¢n | Äang káº¿t hÃ´n / ÄÃ£ ly hÃ´n / ÄÃ£ gÃ³a |
| ğŸ¤ NuÃ´i dÆ°á»¡ng | ÄÃ¡nh dáº¥u quan há»‡ nuÃ´i dÆ°á»¡ng (adoptive) riÃªng biá»‡t |
| ğŸ§¬ TÃ¬m tá»• tiÃªn chung | Tá»± Ä‘á»™ng tÃ­nh toÃ¡n vÃ  hiá»ƒn thá»‹ tá»• tiÃªn chung giá»¯a 2 thÃ nh viÃªn |

### ğŸ—£ï¸ XÆ°ng hÃ´ Viá»‡t Nam

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ¤– TÃ­nh xÆ°ng hÃ´ tá»± Ä‘á»™ng | Tá»± Ä‘á»™ng tÃ­nh tá»« "TÃ´i" (ngÆ°á»i dÃ¹ng chá»n) Ä‘áº¿n má»i thÃ nh viÃªn trong cÃ¢y |
| â†”ï¸ XÆ°ng hÃ´ 2 chiá»u | Hiá»ƒn thá»‹ cáº£ "TÃ´i gá»i há» lÃ  X" vÃ  "Há» gá»i tÃ´i lÃ  Y" |
| ğŸ—ºï¸ Há»— trá»£ miá»n | Báº¯c / Trung / Nam vá»›i bá»™ tá»« xÆ°ng hÃ´ khÃ¡c nhau |
| âœï¸ TÃ¹y chá»‰nh xÆ°ng hÃ´ | Override thá»§ cÃ´ng cho tá»«ng thÃ nh viÃªn náº¿u tÃ­nh sai hoáº·c theo táº­p tá»¥c Ä‘á»‹a phÆ°Æ¡ng |
| ğŸ“Š Panel xÆ°ng hÃ´ | Cá»­a sá»• riÃªng hiá»ƒn thá»‹ toÃ n bá»™ báº£ng xÆ°ng hÃ´ theo cÃ¢y |

### ğŸ“… Ã‚m lá»‹ch & NgÃ y thÃ¡ng

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸŒ™ Nháº­p ngÃ y Ã¢m lá»‹ch | Nháº­p ngÃ y sinh/máº¥t theo lá»‹ch Ã‚m trá»±c tiáº¿p |
| ğŸ”„ ThÃ¡ng nhuáº­n | Há»— trá»£ thÃ¡ng nhuáº­n Ã¢m lá»‹ch (vÃ­ dá»¥: thÃ¡ng 4 nhuáº­n) |
| âš¡ Chuyá»ƒn Ä‘á»•i tá»± Ä‘á»™ng | Tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i giá»¯a dÆ°Æ¡ng lá»‹ch vÃ  Ã¢m lá»‹ch |
| ğŸ“† Hiá»ƒn thá»‹ song lang | Hiá»ƒn thá»‹ cáº£ ngÃ y dÆ°Æ¡ng vÃ  ngÃ y Ã¢m trÃªn tháº» thÃ nh viÃªn |

### ğŸ“‹ Sá»± kiá»‡n gia Ä‘Ã¬nh (19 loáº¡i)

| NhÃ³m | Loáº¡i sá»± kiá»‡n |
|------|-------------|
| ğŸ‘¤ CÃ¡ nhÃ¢n | Sinh, Máº¥t, Äáº·t tÃªn, TrÆ°á»Ÿng thÃ nh, Nghá»‰ hÆ°u |
| ğŸ’’ HÃ´n nhÃ¢n | Káº¿t hÃ´n, Ly hÃ´n, ÄÃ­nh hÃ´n, Ly thÃ¢n |
| â›ª TÃ´n giÃ¡o | Rá»­a tá»™i, ThÃ nh hÃ´n, Thá»¥ phong, Bar Mitzvah |
| ğŸ“ GiÃ¡o dá»¥c | Tá»‘t nghiá»‡p, Nháº­p há»c |
| âœˆï¸ Di cÆ° | Di cÆ°, Nháº­p tá»‹ch |
| ğŸ–ï¸ QuÃ¢n sá»± | Tham chiáº¿n, Phá»¥c viÃªn |

### ğŸ“¤ Xuáº¥t & Chia sáº»

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ“„ Xuáº¥t PDF | Xuáº¥t toÃ n bá»™ cÃ¢y thÃ nh file PDF cháº¥t lÆ°á»£ng cao |
| ğŸ–¼ï¸ Xuáº¥t áº£nh PNG | Chá»¥p mÃ n hÃ¬nh cÃ¢y thÃ nh áº£nh PNG Ä‘á»™ phÃ¢n giáº£i cao |
| ğŸ’¾ Xuáº¥t GEDCOM | Äá»‹nh dáº¡ng chuáº©n quá»‘c táº¿ Ä‘á»ƒ chuyá»ƒn sang pháº§n má»m gia pháº£ khÃ¡c |
| ğŸ“¥ Nháº­p GEDCOM | Import dá»¯ liá»‡u tá»« pháº§n má»m khÃ¡c vÃ o |
| ğŸ”— Chia sáº» link | Táº¡o link chia sáº» vá»›i quyá»n xem (khÃ´ng cáº§n Ä‘Äƒng nháº­p) |
| ğŸ“± MÃ£ QR | Táº¡o mÃ£ QR trá» Ä‘áº¿n trang gia pháº£ |

### ğŸ”’ Báº£o máº­t & Quyá»n truy cáº­p

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ”‘ MÃ£ báº£o máº­t | Äáº·t mÃ£ PIN Ä‘á»ƒ khÃ³a gia pháº£, ngÆ°á»i xem cáº§n nháº­p mÃ£ |
| ğŸ‘ï¸ CÃ´ng khai / RiÃªng tÆ° | Toggle cháº¿ Ä‘á»™ cÃ´ng khai (ai cÅ©ng xem) hoáº·c riÃªng tÆ° (chá»‰ chá»§ sá»Ÿ há»¯u) |
| ğŸ‘¥ Äa ngÆ°á»i dÃ¹ng | Nhiá»u tÃ i khoáº£n, Ä‘Äƒng nháº­p báº±ng email/password hoáº·c OAuth |

### ğŸ“š Äa gia pháº£

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ“‚ Táº¡o nhiá»u gia pháº£ | Má»—i tÃ i khoáº£n quáº£n lÃ½ nhiá»u cÃ¢y gia pháº£ Ä‘á»™c láº­p |
| ğŸªŸ Xem káº¿t há»£p | Xem Ä‘á»“ng thá»i nhiá»u gia pháº£ trÃªn cÃ¹ng má»™t mÃ n hÃ¬nh |
| ğŸ”€ Gá»™p gia pháº£ | Wizard 5 bÆ°á»›c Ä‘á»ƒ gá»™p 2 gia pháº£ thÃ nh 1, tá»± Ä‘á»™ng phÃ¡t hiá»‡n trÃ¹ng láº·p |
| âœ‚ï¸ TÃ¡ch nhÃ¡nh | Táº¡o gia pháº£ má»›i tá»« má»™t nhÃ¡nh cá»§a cÃ¢y hiá»‡n táº¡i |

### âŒ¨ï¸ PhÃ­m táº¯t & Äiá»u hÆ°á»›ng

| PhÃ­m táº¯t | Chá»©c nÄƒng |
|----------|-----------|
| `Ctrl/Cmd + F` | TÃ¬m kiáº¿m thÃ nh viÃªn |
| `+` / `-` | Zoom in / Zoom out |
| `0` | Reset vá» vá»‹ trÃ­ ban Ä‘áº§u |
| `F` | Focus vÃ o thÃ nh viÃªn Ä‘ang chá»n |
| `Escape` | ÄÃ³ng panel / há»§y chá»n |
| `Shift + Click` | Chá»n "TÃ´i" Ä‘á»ƒ tÃ­nh xÆ°ng hÃ´ |

---

## ğŸš€ CÃ i Ä‘áº·t
### YÃªu cáº§u há»‡ thá»‘ng
 Node.js 18+

### Backend

á»¨ng dá»¥ng há»— trá»£ **2 cháº¿ Ä‘á»™ backend**, chuyá»ƒn Ä‘á»•i qua biáº¿n mÃ´i trÆ°á»ng `DATA_MODE`:

| Cháº¿ Ä‘á»™ | `DATA_MODE` | MÃ´ táº£ |
|--------|-------------|-------|
| **Rails API** | `api` | Káº¿t ná»‘i Ä‘áº¿n backend Rails (cáº§n cÃ i Ä‘áº·t riÃªng â€” xem repo `amlich-backend`) |
| **Next.js built-in** | `local` | Backend tÃ­ch há»£p sáºµn (Prisma + SQLite), khÃ´ng cáº§n server ngoÃ i |

> **Máº·c Ä‘á»‹nh:** `DATA_MODE=api`. Äá»•i sang `local` Ä‘á»ƒ dÃ¹ng backend Next.js tÃ­ch há»£p â€” phÃ¹ há»£p cho dev nhanh, demo, hoáº·c cháº¡y offline.

### CÃ i Ä‘áº·t nhanh

```bash
# Clone repository
git clone https://github.com/your-username/family-tree.git
cd family-tree
npm install
cp .env.example .env.local
```

Chá»‰nh `.env.local` theo cháº¿ Ä‘á»™ backend muá»‘n dÃ¹ng, rá»“i cháº¡y:

```bash
npm run dev
```

Má»Ÿ [http://localhost:3000](http://localhost:3000) Ä‘á»ƒ xem káº¿t quáº£.

### Biáº¿n mÃ´i trÆ°á»ng
```env
# Cháº¿ Ä‘á»™ data: "api" (Rails backend) hoáº·c "local" (Next.js built-in, SQLite)
DATA_MODE=api

# Chá»‰ cáº§n khi DATA_MODE=local
DATABASE_URL=file:./data/family.db
LOCAL_AUTH_DISABLED=false
NEXT_PUBLIC_LOCAL_AUTH_DISABLED=false

# Chá»‰ cáº§n khi DATA_MODE=api
NEXT_PUBLIC_API_URL=http://localhost:3001

# Chung
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME='Gia Pháº£ 365'
```

---

## ğŸ³ Cháº¡y báº±ng Docker Compose

### Cháº¿ Ä‘á»™ API (Rails backend)

```bash
docker compose up -d
```

### Cháº¿ Ä‘á»™ Local (SQLite, khÃ´ng cáº§n backend)

```bash
docker compose -f docker-compose.yml -f docker-compose.local.yml up -d
```

á»¨ng dá»¥ng cháº¡y táº¡i [http://localhost:8006](http://localhost:8006).

---

## ğŸ–¥ï¸ App Desktop (Windows / macOS / Linux)

ğŸ“¥ **[Táº£i báº£n cÃ i Ä‘áº·t má»›i nháº¥t táº¡i GitHub Releases](https://github.com/compasify/giapha-4.0/releases)**

á»¨ng dá»¥ng há»— trá»£ build thÃ nh **app desktop native** thÃ´ng qua [Tauri 2](https://v2.tauri.app/), cháº¡y offline vá»›i backend SQLite tÃ­ch há»£p.

### YÃªu cáº§u
- [Rust](https://rustup.rs/) Ä‘Ã£ cÃ i Ä‘áº·t
- Xem thÃªm [Tauri Prerequisites](https://v2.tauri.app/start/prerequisites/) cho tá»«ng OS

### Cháº¡y dev

```bash
npm run tauri:dev
```

### Build app

```bash
npm run tauri:build
```

File cÃ i Ä‘áº·t sáº½ Ä‘Æ°á»£c táº¡o táº¡i `src-tauri/target/release/bundle/`:

| OS | Äá»‹nh dáº¡ng |
|-----|-----------|
| ğŸªŸ Windows | `.msi`, `.exe` (NSIS) |
| ğŸ macOS | `.dmg` |
| ğŸ§ Linux | `.deb`, `.rpm` |

> App desktop cÃ³ tÃ­ch há»£p **auto-update** â€” tá»± kiá»ƒm tra vÃ  cáº­p nháº­t phiÃªn báº£n má»›i tá»« GitHub Releases.

---

## ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng

### Táº¡o gia pháº£ Ä‘áº§u tiÃªn

1. ÄÄƒng kÃ½ / Ä‘Äƒng nháº­p tÃ i khoáº£n
2. Nháº¥n **"Táº¡o gia pháº£ má»›i"** trÃªn trang chá»§
3. Äáº·t tÃªn vÃ  chá»n áº£nh bÃ¬a (tuá»³ chá»n)
4. Nháº¥n **"ThÃªm thÃ nh viÃªn Ä‘áº§u tiÃªn"** â€” thÆ°á»ng lÃ  Ã´ng/bÃ  tá»•
5. Tiáº¿p tá»¥c thÃªm thÃ nh viÃªn tá»« nÃºt `+` trÃªn má»—i tháº»

### ThÃªm thÃ nh viÃªn

- Nháº¥n nÃºt `+` trÃªn tháº» báº¥t ká»³ Ä‘á»ƒ thÃªm **con**, **cha/máº¹**, hoáº·c **vá»£/chá»“ng**
- Äiá»n thÃ´ng tin: tÃªn (báº¯t buá»™c), ngÃ y sinh, áº£nh, tiá»ƒu sá»­
- Nháº¥n **LÆ°u** â€” thÃ nh viÃªn xuáº¥t hiá»‡n ngay trÃªn cÃ¢y

### Äiá»u hÆ°á»›ng cÃ¢y

- **KÃ©o** vÃ¹ng trá»‘ng Ä‘á»ƒ pan
- **Cuá»™n chuá»™t** Ä‘á»ƒ zoom
- **Click** vÃ o thÃ nh viÃªn Ä‘á»ƒ xem chi tiáº¿t vÃ  highlight Ä‘Æ°á»ng mÃ¡u má»§
- **Minimap** (gÃ³c dÆ°á»›i pháº£i) â€” click Ä‘á»ƒ nháº£y Ä‘áº¿n vá»‹ trÃ­ báº¥t ká»³

---

## ğŸ”§ TÃ­nh nÄƒng áº©n & HÆ°á»›ng dáº«n chi tiáº¿t

### 1. XÆ°ng hÃ´ Viá»‡t Nam â€” CÃ¡ch chá»n "TÃ´i"

TÃ­nh nÄƒng xÆ°ng hÃ´ tá»± Ä‘á»™ng tÃ­nh tá»« gÃ³c nhÃ¬n cá»§a má»™t thÃ nh viÃªn ("TÃ´i") ra toÃ n bá»™ cÃ¢y.

**CÃ¡ch kÃ­ch hoáº¡t:**

1. TrÃªn mÃ n hÃ¬nh cÃ¢y, giá»¯ `Shift` vÃ  **click** vÃ o thÃ nh viÃªn báº¡n muá»‘n Ä‘áº·t lÃ m "TÃ´i"
2. Tháº» cá»§a thÃ nh viÃªn Ä‘Ã³ sáº½ hiá»ƒn thá»‹ nhÃ£n **"TÃ´i"**
3. ToÃ n bá»™ cÃ¢y cáº­p nháº­t xÆ°ng hÃ´ theo gÃ³c nhÃ¬n cá»§a thÃ nh viÃªn Ä‘Ã³
4. Má»—i tháº» hiá»ƒn thá»‹: **"Gá»i lÃ : [xÆ°ng hÃ´]"** bÃªn dÆ°á»›i tÃªn

**Panel xÆ°ng hÃ´ Ä‘áº§y Ä‘á»§:**

- Nháº¥n icon ğŸ—£ï¸ (hoáº·c nÃºt **"XÆ°ng hÃ´"**) trÃªn thanh cÃ´ng cá»¥
- Panel hiá»‡n ra danh sÃ¡ch toÃ n bá»™ thÃ nh viÃªn kÃ¨m xÆ°ng hÃ´ 2 chiá»u
- CÃ³ thá»ƒ **override thá»§ cÃ´ng** báº±ng cÃ¡ch click vÃ o tá»«ng dÃ²ng vÃ  nháº­p tay

> **LÆ°u Ã½:** XÆ°ng hÃ´ Ä‘Æ°á»£c tÃ­nh theo thuáº­t toÃ¡n quan há»‡ mÃ¡u má»§ â€” Ä‘Ãºng vá»›i pháº§n lá»›n gia Ä‘Ã¬nh Viá»‡t, nhÆ°ng cÃ³ thá»ƒ cáº§n override cho trÆ°á»ng há»£p Ä‘áº·c biá»‡t (con nuÃ´i, hÃ´n nhÃ¢n phá»©c táº¡p).

---

### 2. Drag & Drop â€” Äá»•i cha/máº¹ cho thÃ nh viÃªn

TÃ­nh nÄƒng cho phÃ©p tÃ¡i cáº¥u trÃºc cÃ¢y báº±ng cÃ¡ch kÃ©o tháº£.

**CÃ¡ch thá»±c hiá»‡n:**

1. **Nháº¥n giá»¯** (long press) vÃ o tháº» thÃ nh viÃªn muá»‘n di chuyá»ƒn
2. Tháº» chuyá»ƒn sang tráº¡ng thÃ¡i "Ä‘ang kÃ©o" (opacity tháº¥p hÆ¡n)
3. **KÃ©o** sang tháº» thÃ nh viÃªn muá»‘n lÃ m cha/máº¹ má»›i
4. Tháº£ â€” há»‡ thá»‘ng hiá»‡n há»™p thoáº¡i xÃ¡c nháº­n thay Ä‘á»•i quan há»‡
5. Nháº¥n **XÃ¡c nháº­n** Ä‘á»ƒ lÆ°u

> **LÆ°u Ã½:** KhÃ´ng thá»ƒ kÃ©o thÃ nh viÃªn thÃ nh con cá»§a chÃ­nh nhÃ¡nh con cá»§a há» (trÃ¡nh vÃ²ng láº·p).

---

### 3. Nháº­p ngÃ y Ã‚m lá»‹ch & ThÃ¡ng nhuáº­n

**CÃ¡ch nháº­p ngÃ y Ã¢m:**

1. Trong form thÃ nh viÃªn, táº¡i trÆ°á»ng **NgÃ y sinh** hoáº·c **NgÃ y máº¥t**
2. Toggle sang tab **"Ã‚m lá»‹ch"** (bÃªn cáº¡nh tab "DÆ°Æ¡ng lá»‹ch")
3. Nháº­p ngÃ y/thÃ¡ng/nÄƒm theo Ã¢m lá»‹ch
4. Náº¿u lÃ  **thÃ¡ng nhuáº­n**: tÃ­ch vÃ o checkbox **"ThÃ¡ng nhuáº­n"** bÃªn cáº¡nh Ã´ thÃ¡ng
5. Há»‡ thá»‘ng tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i vÃ  lÆ°u cáº£ hai lá»‹ch

> **VÃ­ dá»¥:** Sinh ngÃ y 15 thÃ¡ng 4 nhuáº­n nÄƒm GiÃ¡p TÃ½ â†’ tÃ­ch "ThÃ¡ng nhuáº­n" khi chá»n thÃ¡ng 4.

---

### 4. TÃ¡ch nhÃ¡nh â€” Táº¡o gia pháº£ tá»« má»™t nhÃ¡nh

TÃ­nh nÄƒng cho phÃ©p táº¡o gia pháº£ riÃªng tá»« má»™t nhÃ¡nh con cá»§a cÃ¢y hiá»‡n táº¡i.

**CÃ¡ch thá»±c hiá»‡n:**

1. Click vÃ o thÃ nh viÃªn muá»‘n lÃ m **gá»‘c** cá»§a nhÃ¡nh má»›i
2. Trong panel thÃ´ng tin, chá»n **"â‹¯ ThÃªm"** â†’ **"TÃ¡ch thÃ nh gia pháº£ má»›i"**
3. Äáº·t tÃªn cho gia pháº£ má»›i
4. Há»‡ thá»‘ng copy toÃ n bá»™ háº­u duá»‡ cá»§a thÃ nh viÃªn Ä‘Ã³ sang gia pháº£ má»›i
5. Gia pháº£ gá»‘c **khÃ´ng bá»‹ thay Ä‘á»•i**

---

### 5. Xem káº¿t há»£p nhiá»u gia pháº£ (Combined View)

Xem Ä‘á»“ng thá»i nhiá»u gia pháº£ trÃªn cÃ¹ng má»™t mÃ n hÃ¬nh Ä‘á»ƒ so sÃ¡nh hoáº·c tÃ¬m má»‘i liÃªn há»‡.

**CÃ¡ch truy cáº­p:**

1. Tá»« trang danh sÃ¡ch gia pháº£, nháº¥n **"Xem káº¿t há»£p"** (hoáº·c vÃ o `/lineage/combined`)
2. Chá»n 2â€“5 gia pháº£ muá»‘n xem cÃ¹ng lÃºc
3. Má»—i gia pháº£ hiá»ƒn thá»‹ báº±ng mÃ u sáº¯c khÃ¡c nhau
4. DÃ¹ng bá»™ lá»c bÃªn trÃ¡i Ä‘á»ƒ áº©n/hiá»‡n tá»«ng gia pháº£

---

### 6. Gá»™p gia pháº£ (Merge Wizard)

Wizard 5 bÆ°á»›c Ä‘á»ƒ gá»™p 2 gia pháº£ thÃ nh 1.

**CÃ¡ch truy cáº­p:** Menu â†’ **"Gá»™p gia pháº£"** (hoáº·c `/lineage/merge`)

**CÃ¡c bÆ°á»›c:**

| BÆ°á»›c | TÃªn | MÃ´ táº£ |
|------|-----|-------|
| 1 | Chá»n nguá»“n | Chá»n 2 gia pháº£ cáº§n gá»™p |
| 2 | PhÃ¡t hiá»‡n trÃ¹ng | Há»‡ thá»‘ng tá»± Ä‘á»™ng so khá»›p thÃ nh viÃªn cÃ³ thá»ƒ trÃ¹ng nhau (theo tÃªn + nÄƒm sinh) |
| 3 | XÃ¡c nháº­n trÃ¹ng | Duyá»‡t tá»«ng cáº·p trÃ¹ng: xÃ¡c nháº­n gá»™p hoáº·c giá»¯ riÃªng |
| 4 | Xá»­ lÃ½ xung Ä‘á»™t | Giáº£i quyáº¿t cÃ¡c trÆ°á»ng dá»¯ liá»‡u khÃ¡c nhau (chá»n nguá»“n nÃ o Æ°u tiÃªn) |
| 5 | HoÃ n táº¥t | Äáº·t tÃªn gia pháº£ má»›i, xÃ¡c nháº­n gá»™p |

> **LÆ°u Ã½:** QuÃ¡ trÃ¬nh gá»™p **khÃ´ng xÃ³a** 2 gia pháº£ gá»‘c â€” chá»‰ táº¡o gia pháº£ má»›i tá»« dá»¯ liá»‡u gá»™p.

---

### 7. Báº£o vá»‡ gia pháº£ báº±ng mÃ£ báº£o máº­t

**CÃ¡ch Ä‘áº·t mÃ£:**

1. VÃ o **CÃ i Ä‘áº·t gia pháº£** â†’ tab **"Báº£o máº­t"**
2. Nháº¥n **"Äáº·t mÃ£ báº£o máº­t"**
3. Nháº­p mÃ£ PIN (4â€“8 sá»‘)
4. XÃ¡c nháº­n mÃ£ â€” tá»« Ä‘Ã¢y ai muá»‘n xem cáº§n nháº­p mÃ£

> **LÆ°u Ã½:** Chá»§ sá»Ÿ há»¯u Ä‘Äƒng nháº­p khÃ´ng cáº§n nháº­p mÃ£. MÃ£ chá»‰ Ã¡p dá»¥ng cho ngÆ°á»i xem qua link chia sáº».

---

### 8. Popup tiá»ƒu sá»­ khi Hover

Khi hover vÃ o tháº» thÃ nh viÃªn trÃªn cÃ¢y, popup xuáº¥t hiá»‡n sau ~0.5 giÃ¢y hiá»ƒn thá»‹:
- áº¢nh Ä‘áº¡i diá»‡n (kÃ­ch thÆ°á»›c lá»›n hÆ¡n)
- TÃªn Ä‘áº§y Ä‘á»§
- NgÃ y sinh â€” ngÃ y máº¥t (dÆ°Æ¡ng vÃ  Ã¢m lá»‹ch)
- Äoáº¡n Ä‘áº§u tiá»ƒu sá»­ (náº¿u cÃ³)
- XÆ°ng hÃ´ tá»« gÃ³c nhÃ¬n "TÃ´i" (náº¿u Ä‘Ã£ chá»n)

Äá»ƒ táº¯t popup: vÃ o **CÃ i Ä‘áº·t** â†’ **"Giao diá»‡n"** â†’ táº¯t **"Hiá»ƒn thá»‹ popup khi hover"**.

---

### 9. Sáº¯p xáº¿p thá»© tá»± anh chá»‹ em

**CÃ¡ch sáº¯p xáº¿p:**

1. Click vÃ o thÃ nh viÃªn cha/máº¹
2. Trong panel, chá»n **"Quáº£n lÃ½ con"**
3. Danh sÃ¡ch con hiá»‡n ra vá»›i tay kÃ©o (drag handle) á»Ÿ bÃªn trÃ¡i
4. KÃ©o Ä‘á»ƒ sáº¯p xáº¿p thá»© tá»±
5. Nháº¥n **LÆ°u thá»© tá»±**

Thá»© tá»± sáº¯p xáº¿p áº£nh hÆ°á»Ÿng Ä‘áº¿n vá»‹ trÃ­ hiá»ƒn thá»‹ trÃªn cÃ¢y (trÃ¡i â†’ pháº£i = con Ä‘áº§u â†’ con Ãºt).

---

## ğŸ—ï¸ Tech Stack
| CÃ´ng nghá»‡ | Chi tiáº¿t |
|-----------|----------|
| Framework | Next.js 16 (App Router) |
| UI Library | React 19 |
| Language | TypeScript 5 |
| Styling | Tailwind CSS 4 |
| Auth | JWT (cookie) â€” do backend cáº¥p; OAuth Google |
| Tree Rendering | family-chart (D3.js) |
| PDF Export | jsPDF + html-to-image |
| State | Zustand |
| Forms | React Hook Form + Zod |
---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
family-tree/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (app)/              # CÃ¡c trang chÃ­nh (cÃ³ auth)
â”‚   â”‚   â”‚   â”œâ”€â”€ lineage/        # Quáº£n lÃ½ gia pháº£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/       # Chi tiáº¿t gia pháº£ (cÃ¢y, thÃ nh viÃªn, cÃ i Ä‘áº·t)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ combined/   # Xem káº¿t há»£p nhiá»u gia pháº£
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ merge/      # Gá»™p gia pháº£
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/      # Trang chá»§ sau Ä‘Äƒng nháº­p
â”‚   â”‚   â””â”€â”€ api/                # API Routes
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ tree/               # Components cÃ¢y gia pháº£
â”‚   â”‚   â”œâ”€â”€ person/             # Form & card thÃ nh viÃªn
â”‚   â”‚   â”œâ”€â”€ events/             # Quáº£n lÃ½ sá»± kiá»‡n
â”‚   â”‚   â””â”€â”€ lineage/            # Quáº£n lÃ½ gia pháº£
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ xung-ho/            # Thuáº­t toÃ¡n tÃ­nh xÆ°ng hÃ´
â”‚   â”‚   â”œâ”€â”€ export/             # PDF, PNG, GEDCOM export
â”‚   â”‚   â””â”€â”€ transforms/         # Chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u
â”‚   â””â”€â”€ hooks/                  # Custom React hooks
â”œâ”€â”€ public/                     # Static assets
â””â”€â”€ package.json
```

---

## ğŸ¤ ÄÃ³ng gÃ³p

Pull requests Ä‘Æ°á»£c hoan nghÃªnh! Vá»›i cÃ¡c thay Ä‘á»•i lá»›n, hÃ£y má»Ÿ issue trÆ°á»›c Ä‘á»ƒ tháº£o luáº­n.

1. Fork repo
2. Táº¡o branch: `git checkout -b feature/ten-tinh-nang`
3. Commit: `git commit -m 'feat: thÃªm tÃ­nh nÄƒng X'`
4. Push: `git push origin feature/ten-tinh-nang`
5. Táº¡o Pull Request

---

## ğŸ“„ License

MIT License â€” xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

---

<p align="center">
  Made with â¤ï¸ for Vietnamese families
</p>
